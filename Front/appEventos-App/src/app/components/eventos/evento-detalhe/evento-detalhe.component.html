<div class="card rounded shadow mb-3">
  <form [formGroup]="form" class="p-3">
    <!-- <p>Form value: {{form.value | json}}</p>
    <p>Form valid: {{form.status | json}}</p> -->
    <div class="row">
      <div class="col">
        <label>Tema</label>
        <input
          type="text"
          class="form-control"
          [ngClass]="cssValidator(f.tema)"
          formControlName="tema"
          placeholder="Insira o Tema"
        />
        <div *ngIf="f.tema?.hasError('required')" class="invalid-feedback">
          Campo Tema é obrigatório
        </div>
        <div *ngIf="f.tema?.hasError('minlength')" class="invalid-feedback">
          Campo Tema deve ter no mínimo 4 caracteres.
        </div>
        <div *ngIf="f.tema?.hasError('maxlength')" class="invalid-feedback">
          Campo Tema deve ter no máximo 50 caracteres.
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-8">
        <label>Local</label>
        <input
          type="text"
          class="form-control"
          [ngClass]="cssValidator(f.local)"
          formControlName="local"
          placeholder=""
        />
        <div class="invalid-feedback">Campo Local é obrigatório</div>
      </div>
      <div class="col">
        <label>Data e Hora</label>
        <input
          type="datetime-local"
          class="form-control"
          [ngClass]="cssValidator(f.dataEvento)"
          formControlName="dataEvento"
          placeholder=""
        />
        <div class="invalid-feedback">Campo Data e Hora é obrigatório</div>
      </div>
    </div>
    <div class="row mb-5">
      <div class="col-md-2">
        <label>Qtd Pessoas</label>
        <input
          type="text"
          class="form-control"
          [ngClass]="cssValidator(f.qtdPessoas)"
          required
          formControlName="qtdPessoas"
        />
        <div
          *ngIf="f.qtdPessoas?.hasError('required')"
          class="invalid-feedback"
        >
          Campo Qtd Pessoas é obrigatório
        </div>
        <div *ngIf="f.qtdPessoas?.hasError('max')" class="invalid-feedback">
          A quantidade máxima de pessoas é 120000
        </div>
      </div>
      <div class="col-md-2">
        <label>Telefone</label>
        <input
          type="text"
          class="form-control"
          [ngClass]="cssValidator(f.telefone)"
          formControlName="telefone"
          placeholder="(00) 90000-0000"
        />
        <div class="invalid-feedback">Campo Telefone é obrigatório</div>
      </div>
      <div class="col">
        <label>E-mail</label>
        <input
          type="email"
          class="form-control"
          [ngClass]="{
            'is-invalid': f.email?.errors && f.email?.touched
          }"
          formControlName="email"
          placeholder="e-mail"
        />
        <div *ngIf="f.email?.hasError('required')" class="invalid-feedback">
          Campo E-mail é obrigatório
        </div>
        <div *ngIf="f.email?.hasError('email')" class="invalid-feedback">
          Informe um e-mail válido.
        </div>
      </div>
      <div class="col">
        <label>Imagem</label>
        <input
          type="file"
          class="form-control"
          [ngClass]="cssValidator(f.imagemUrl)"
          formControlName="imagemUrl"
        />
        <div class="invalid-feedback">Campo Imagem é obrigatório</div>
      </div>
    </div>
  </form>
  <div class="card-footer">
    <div class="col-lg-12">
      <div class="row">
        <div class="col">
          <button class="btn btn-outline-secondary border" (click)="resetForm()">
            Cancelar Alteração
          </button>
        </div>
        <div class="col text-end">
          <button class="btn btn-success" [disabled]="!form.valid">
            <!-- <span class="spinner-border spinner-border-sm"></span> -->
            Salvar Evento
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
